<!DOCTYPE html>
<html lang="en">
  <head>
    <title>JavaScript Playground of Event.isTrusted</title>
    <style>
     .trusted {
       background-color: green;
     }
     .not-trusted {
       background-color: red;
     }
    </style>
  </head>
  <body>
    <h1>JavaScript Playground of <a href="https://developer.mozilla.org/en-US/docs/Web/API/Event/isTrusted">Event.isTrusted</a></h1>
    <input id="z" type="text">
    <button id="a">Event generated by user action</button>
    <button id="b">Event generated via dispatchEvent</button>
    <button id="c">Event generated by script</button>
    <button id="r">reset</button>
    <script>
     var body = document.getElementsByTagName("body")[0];
     console.log(body);
     var z = document.getElementById("z");
     var a = document.getElementById("a");
     a.addEventListener("click", function(ev) {
       if (ev.isTrusted) {
         z.value = "trusted";
         body.setAttribute("class", "trusted");
       } else {
         z.value = "not trusted";
         body.setAttribute("class", "not-trusted");
       }
     });
     var b = document.getElementById("b");
     b.addEventListener("click", function(ev) {
       a.click();
     });
     var c = document.getElementById("c");
     c.addEventListener("click", function(ev) {
       var s = document.createElement("script");
       s.src = "i.js";
       body.appendChild(s);
     });
     var r = document.getElementById("r");
     r.addEventListener("click", function(ev) {
       z.value = "";
       body.removeAttribute("class");
     });
     window.onload = function(ev) {
       z.value = "";
       body.removeAttribute("class");
     };
    </script>
  </body>
</html>
